import numpy as np
from app import swap_stripes

# Тестирование перестановки горизонтальных полос
def test_horizontal_swap():
    # Создаем тестовое изображение размером 4x2 пикселя с 3 каналами (например, RGB)
    # Значения просто идут по порядку от 0 до 23
    img = np.arange(4 * 2 * 3).reshape(4, 2, 3)

    # Вызываем функцию перестановки с направлением "horizontal" и шириной полосы 1
    result = swap_stripes(img, 'horizontal', 1)

    # Проверяем, что первая горизонтальная полоса в результате стала равна второй полосе исходного изображения
    assert np.array_equal(result[0], img[1])

    # Проверяем, что вторая горизонтальная полоса в результате стала равна первой полосе исходного изображения
    assert np.array_equal(result[1], img[0])

# Тестирование перестановки вертикальных полос
def test_vertical_swap():
    # Создаем тестовое изображение размером 2x4 пикселя с 3 каналами
    img = np.arange(2 * 4 * 3).reshape(2, 4, 3)

    # Вызываем функцию перестановки с направлением "vertical" и шириной полосы 1
    result = swap_stripes(img, 'vertical', 1)

    # Проверяем, что первая вертикальная полоса (столбец) в результате стала равна второй полосе исходного изображения
    assert np.array_equal(result[:, 0], img[:, 1])

    # Проверяем, что вторая вертикальная полоса в результате стала равна первой полосе исходного изображения
    assert np.array_equal(result[:, 1], img[:, 0])

